<!DOCTYPE html>
<html>
    <head>
        <title>Demo for responsive design</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="stylesheet" href="css/normalize.css" type="text/css">
        <link rel="stylesheet" href="css/style.css" type="text/css">
        <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" type="text/css">

        <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
        <script type="text/javascript" src="http://eightmedia.github.io/hammer.js/dist/jquery.hammer.js"></script>


        <script type="text/javascript">
            $(document).ready(function() {

                function openSidebar() {
                    $("aside").removeClass('closed');
                }

                function closeSidebar() {
                    $("aside").addClass('closed');
                }

                $('aside').hammer().on('dragright', function(e) {
                    e.preventDefault();
                    openSidebar();
                });

                $('aside').on('dragleft', function(e) {
                    if (!$('aside').hasClass('closed')) {
                        e.preventDefault();
                        closeSidebar();
                    }
                });

                $('#swipeline').on('click', function(e) {
                    e.stopPropagation();
                    e.preventDefault();

                    if (!$('aside').hasClass('close')) {
                        closeSidebar();
                    } else {
                        openSidebar();
                    }

                });


            });
            //subtrackt the header size from the map canvas, removing the scrollbar
            function correctHeaderOffset() {
                var h = $(window).height();
                var headerHeight = $('header').height();

                $('#map').css('height', (h - headerHeight));
                $('aside').css('height', (h - headerHeight));
            }

            function initialize() {
                var mapOptions = {
                    center: new google.maps.LatLng(-34.397, 150.644),
                    zoom: 8,
                    styles: [{"featureType": "all", "elementType": "all", "stylers": [{"hue": "#d11d40"}]}, {"featureType": "road", "elementType": "labels", "stylers": [{"visibility": "off"}]}, {"featureType": "road", "elementType": "geometry", "stylers": [{"visibility": "simplified"}, {"lightness": 100}]}, {"featureType": "water", "elementType": "geometry.fill", "stylers": [{"invert_lightness": false}, {"color": "#d11d40"}, {"saturation": 0}]}, {"featureType": "water", "elementType": "labels.text", "stylers": [{"visibility": "off"}]}, {"featureType": "poi.park", "elementType": "labels", "stylers": [{"visibility": "off"}]}, {"featureType": "poi.business", "elementType": "labels", "stylers": [{"visibility": "off"}]}, {"featureType": "water", "elementType": "geometry.fill", "stylers": [{"visibility": "on"}, {"invert_lightness": false}, {"weight": 0.1}, {"saturation": -50}, {"lightness": 0}]}]
                };
                var map = new google.maps.Map(document.getElementById("map"),
                        mapOptions);

                //Force absolute positioning after map tiles are loaded
                google.maps.event.addListener(map, 'tilesloaded', function() {
                    document.getElementById('map').style.position = 'absolute';
                });

                //Correct the height of the map after resizing
                google.maps.event.addListener(map, 'resize', function() {
                    var mainHeight = $('main').height();
                    var headerHeight = $('header').height();

                    $('#map').css('height', (mainHeight - headerHeight));
                });

                //Force a recalculation of the map height
                correctHeaderOffset();
            }

            google.maps.event.addDomListener(window, 'load', initialize);

            //Register the correctHeaderOffset callback on windows resizing.
            $(window).resize(correctHeaderOffset).resize();
        </script>

    </head>
    <body>
        <div class="container">
            <header class="shadow">
                <nav>
                    <a href="#">Stage kaart</a>
                </nav>
            </header>
            <main class="row clearfix">
                <div id="map" class="column full">

                </div>

                <aside class="closed scrollable shadow">
                    <div class="row clearfix">
                        <div class="column full">
                            <h2>Universiteit van Ljubljana</h2>
                            <i>Ljubljana, SloveniÃ«</i>
                            <h3>Opzetten website</h2>
                        </div>
                        <div class="column two-thirds">
                            <i>Stage</i>
                        </div>
                        <img class="column third" src="http://blog.sweetiq.com/wp-content/uploads/2012/07/3-5-stars.png" />
                    </div>
                    <div class="row clearfix">
                        <div class="column two-thirds">
                            <h4>Werkzaamheden</h4>
                            <p>
                                Lorem ipsum dolor sit amet, consectetur adipiscing elit. 
                                Etiam a enim fermentum, tempor enim pretium, luctus erat.
                                Aliquam vitae elit purus. Sed volutpat arcu a mi ultrices, 
                                et condimentum metus vestibulum. Cras vitae commodo tortor. 
                                Morbi semper metus id erat laoreet fringilla. 
                                Aenean sit amet orci risus. 
                                Mauris malesuada nibh quis porttitor congue. 
                                Nam ante nunc, imperdiet eget felis vitae, porta gravida tortor. 
                                Proin eleifend at diam aliquet pellentesque.
                            </p>
                            <h4>Huisvesting</h4>
                            <p>
                                Maecenas erat nibh, blandit ut lacinia vitae, tincidunt lobortis metus. 
                                Nam vel arcu vel nibh feugiat rutrum id porttitor erat. 
                                Donec tempus hendrerit mi. Donec porttitor libero nec faucibus interdum. 
                                Fusce sollicitudin sapien ac neque dignissim, vel varius purus congue. 
                                Ut nec orci non orci adipiscing sodales sit amet sed nibh. 
                                Cras vel justo id felis dignissim ultrices. 
                                Duis pellentesque facilisis accumsan. 
                                In varius iaculis magna, vitae varius erat commodo volutpat. 
                                Vestibulum imperdiet pretium leo, eget varius velit condimentum eu. 
                                Suspendisse potenti. 
                                Aliquam dapibus metus nisl, id dignissim leo molestie ut. 
                                Donec diam nisi, convallis eu lectus sed, aliquam varius eros. 
                                Integer at vestibulum ante, et tempus nunc. 
                                Donec congue nibh non nulla porttitor feugiat.
                            </p>
                        </div>
                        <div class="third">
                            <h5>Patrick Berenschot</h5>
                            <img src="http://m.c.lnkd.licdn.com/mpr/pub/image-tEpOllUkvAV__dsH809yTY8e_17efvHVq29LhlmO_x-1rktKtEpLWxxk_KuKrNkqRkAM/patrick-berenschot.jpg" />
                            <p>Tweedejaars Software-Engineering student.</p>
                            <h6>Neem contact op</h6>
                            <ul>
                                <li>
                                    <i class="fa fa-twitter"></i>@Waaghals
                                </li>
                                <li>
                                    <i class="fa fa-linkedin"></i>Patrick Berenschot
                                </li>
                                <li>
                                    <i class="fa fa-github"></i>Waaghals
                                </li>
                            </ul>
                        </div>
                    </div>
                </aside>
            </main> <!-- end row -->
        </div>
    </body>
</html>
