<!DOCTYPE html>
<html>
    <head>
        <title>Demo for responsive design</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="stylesheet" href="css/normalize.css" type="text/css">
        <link rel="stylesheet" href="css/style.css" type="text/css">

        <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
        <script type="text/javascript">

            //subtrackt the header size from the map canvas, removing the scrollbar
            function correctHeaderOffset() {
                var h = $(window).height();
                var headerHeight = $('header').height();

                $('#map').css('height', (h - headerHeight));
            }

            function initialize() {
                var mapOptions = {
                    center: new google.maps.LatLng(-34.397, 150.644),
                    zoom: 8
                };
                var map = new google.maps.Map(document.getElementById("map"),
                        mapOptions);

                //Force absolute positioning after map tiles are loaded
                google.maps.event.addListener(map, 'tilesloaded', function() {
                    document.getElementById('map').style.position = 'absolute';
                });

                //Correct the height of the map after resizing
                google.maps.event.addListener(map, 'resize', function() {
                    var mainHeight = $('main').height();
                    var headerHeight = $('header').height();

                    $('#map').css('height', (mainHeight - headerHeight));
                });

                //Force a recalculation of the map height
                correctHeaderOffset();
            }

            google.maps.event.addDomListener(window, 'load', initialize);
               
            //Register the correctHeaderOffset callback on windows resizing.
            $(window).resize(correctHeaderOffset).resize();
        </script>

    </head>
    <body>
        <div class="container">
            <header class="row clearfix">
                <nav class="column full">
                    <button>Home</button>
                </nav>
            </header>
            <div class="row clearfix">

                <main id="map" class="column two-thirds">

                </main>

                <aside class="column third flow-opposite">
                    <h1>School</h1>
                    <p>test</p>
                </aside>

            </div> <!-- end row -->
        </div>
    </body>
</html>
